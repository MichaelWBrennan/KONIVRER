name: ðŸ¤– Auto-merge Dependabot PRs

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  auto-merge:
    runs-on: ubuntu-latest

    steps:
      - name: ðŸš€ Force merge all PRs (no conditions)
        run: |
          echo "ðŸš€ Force merging PR #${{ github.event.pull_request.number }} immediately"
          echo "PR Title: ${{ github.event.pull_request.title }}"
          echo "Author: ${{ github.event.pull_request.user.login }}"
          echo "Branch: ${{ github.event.pull_request.head.ref }} -> ${{ github.event.pull_request.base.ref }}"
          
          # Approve the PR
          gh pr review --approve "${{ github.event.pull_request.number }}" --body "ðŸš€ Force approved and merging immediately (no checks required)"
          
          # Merge the PR
          gh pr merge --squash "${{ github.event.pull_request.number }}" --delete-branch
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
